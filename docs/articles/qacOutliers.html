<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>qacOutliers • qacOutliers</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="qacOutliers">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">qacOutliers</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/qacOutliers.html"><span class="fa fas fa-chalkboard-teacher"></span> Getting Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes">
<li><a class="dropdown-item" href="../articles/Univariate.html">Univariate Outliers</a></li>
    <li><a class="dropdown-item" href="../articles/Multivariate.html">Multivariate Outliers</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Documentation</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>qacOutliers</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/chenning2011/qacOutliers/blob/HEAD/vignettes/qacOutliers.Rmd"><code>vignettes/qacOutliers.Rmd</code></a></small>
      <div class="d-none name"><code>qacOutliers.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/chenning2011/qacOutliers">qacOutliers</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="what-are-outliers">What are outliers?<a class="anchor" aria-label="anchor" href="#what-are-outliers"></a>
</h3>
<p>Outliers–also known as anamolies, abnormalities, discordants, or
deviants–are observations that differ significantly from the rest of the
observations in a dataset. There are many different reasons that
outliers can exist in a dataset, including natural variation in a
population and measurement error.</p>
<p>Natural variations can be seen in many different ways. For example,
if you have a dataset of people’s salaries that includes a random sample
of all people, there could be observations from billionaires, who have a
much larger salary than the average person, which would distort the
data.</p>
<p>Measurement or experimental errors can occur during the data
collection process. For example, if an experiment was recording people’s
heights, and the measurement was accidentally entered as 52’ instead of
5’2”, that value would be an outlier. This isn’t because the person is
abnormally tall, but because their height was recorded incorrectly.</p>
</div>
<div class="section level3">
<h3 id="how-can-you-detect-outliers-how-can-i-use-this-package-to-detect-outliers">How can you detect outliers? How can I use this package to detect
outliers?<a class="anchor" aria-label="anchor" href="#how-can-you-detect-outliers-how-can-i-use-this-package-to-detect-outliers"></a>
</h3>
<p>Detecting outliers, like many techniques in data science, is more of
an art than a science. Because there are so many different reasons that
outliers exist, there are many different ways to detect them. This
package includes seven commonly used methods for <a href="Univariate.html">univariate</a> and <a href="Multivariate.html">multivariate</a> outlier detection. See the
linked pages above for more information about those specific
methods.</p>
<p>Each of these seven methods have distinct methods for identifying and
calculating outliers, ranging from visualizing data to standardizing it
and calculating scores for each variable to identify which observations
are mathematically furthest away from the rest of the data. Although
each of these methods return observations that have been classified as
outliers by their respective functions, it’s important to always look at
the underlying data to understand why they are being picked out as
outliers, if they truly are outliers, and why they might have the values
that they have.</p>
</div>
<div class="section level3">
<h3 id="why-should-we-detect-outliers">Why should we detect outliers?<a class="anchor" aria-label="anchor" href="#why-should-we-detect-outliers"></a>
</h3>
<p>Because there are so many reasons for there to be outliers in a
dataset, it’s always important to take a moment to understand if there
are any potential outliers within your data. Any techniques that utilize
means are heavily affected by the presence of outliers, so it’s extra
important to look for outliers before taking the mean of any variables
in a dataset.</p>
<p>Additionally, as outliers can be generated through measurement
errors, they provide context into any issues that may arise during data
collection. These findings are especially helpful when you are
collecting your own data. If you are aware of any issues with data
collection within your datasets, these techniques will help you identify
points where mistakes may have been made.</p>
</div>
<div class="section level3">
<h3 id="what-should-you-do-with-outliers-once-you-detect-them">What should you do with outliers once you detect them?<a class="anchor" aria-label="anchor" href="#what-should-you-do-with-outliers-once-you-detect-them"></a>
</h3>
<p>This depends on many factors, including the cause of the outlier (if
known), the magnitude of the outlier, and whether you believe the
detected outliers are truly outliers. Because there are so many reasons
that outliers exist, and because some detected outliers may not really
be outliers, this package allows you to decide how you want to
proceed.</p>
<p>Once you run one of these functions, you can extract the row numbers
of detected outliers and carefully inspect your data to decide what you
want to do with the detected outliers. Here is an example of
multivariate outliers detected with the <a href="Multivariate.html#local-outlier-factor-lof">LoF</a> method, using
<a href="https://chenning2011.github.io/qacOutliers/reference/mtcarsOutliers.html" class="external-link">mtcarsOutliers</a>,
a dataset included in this package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multiOutliers.html">multiOutliers</a></span><span class="op">(</span><span class="va">mtcarsOutliers</span>, method <span class="op">=</span> <span class="st">"lof"</span><span class="op">)</span></span>
<span><span class="va">results</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Summary Information</span> <span style="color: #00BBBB;">─────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Method: LoF</span></span>
<span><span class="co">#&gt; Dataset: mtcarsOutliers</span></span>
<span><span class="co">#&gt; Variables: mpg cyl disp hp drat wt qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Row: 1 2 3 4 6 7 10 11 15 16 17 20 24 26 27 29 30 31 32</span></span>
<span><span class="co">#&gt; Outlier Score: 1.234384 1.109279 1.052523 1.434807 1.590262 1.031151 1.000967 1.002118 1.004441 1.2053 1.015402 1.013044 1.088952 1.002205 1.043699 1.419062 1.752452 1.94842 1.017775</span></span>
<span><span class="co">#&gt; Message:  Outliers detected</span></span>
<span><span class="co">#&gt; Option 1 : minPts = 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Dataset Information</span> <span style="color: #00BBBB;">─────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Five Largest Outliers Within the Provided Dataset:</span></span>
<span><span class="co">#&gt;                     mpg cyl disp  hp      drat    wt  qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Maserati Bora  15.00000   8  301 335  3.540000 3.570 14.60  0  1    5    8</span></span>
<span><span class="co">#&gt; Ferrari Dino   19.70000   6  145 175 -5.146597 2.770 15.50  0  1    5    6</span></span>
<span><span class="co">#&gt; Valiant        18.10000   6  225 105  2.760000 3.460 20.22  1  0    3    1</span></span>
<span><span class="co">#&gt; Hornet 4 Drive 54.27716   6  258 110  3.080000 3.215 19.44  1  0    3    1</span></span>
<span><span class="co">#&gt; Ford Pantera L 15.80000   8  351 264  4.220000 3.170 14.50  0  1    5    4</span></span>
<span><span class="co">#&gt;                  scores</span></span>
<span><span class="co">#&gt; Maserati Bora  1.948420</span></span>
<span><span class="co">#&gt; Ferrari Dino   1.752452</span></span>
<span><span class="co">#&gt; Valiant        1.590262</span></span>
<span><span class="co">#&gt; Hornet 4 Drive 1.434807</span></span>
<span><span class="co">#&gt; Ford Pantera L 1.419062</span></span></code></pre></div>
<p>The LoF function detected nine outliers within this dataset. From
this output, you can identify which rows these outliers are in, and
extract them to inspect these observations.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">index</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">Row</span></span>
<span><span class="va">subset</span> <span class="op">&lt;-</span> <span class="va">mtcarsOutliers</span><span class="op">[</span><span class="va">index</span>,<span class="op">]</span></span>
<span><span class="va">subset</span></span>
<span><span class="co">#&gt;                          mpg cyl      disp        hp      drat       wt</span></span>
<span><span class="co">#&gt; Mazda RX4           21.00000   6  782.5020  110.0000  3.900000  2.62000</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag       52.22202   6  160.0000  110.0000  3.555697  2.87500</span></span>
<span><span class="co">#&gt; Datsun 710          22.80000   4 -468.2171   93.0000  3.850000 13.16772</span></span>
<span><span class="co">#&gt; Hornet 4 Drive      54.27716   6  258.0000  110.0000  3.080000  3.21500</span></span>
<span><span class="co">#&gt; Valiant             18.10000   6  225.0000  105.0000  2.760000  3.46000</span></span>
<span><span class="co">#&gt; Duster 360          14.30000   8  360.0000  245.0000  3.210000  3.57000</span></span>
<span><span class="co">#&gt; Merc 280            19.20000   6  167.6000  123.0000  3.920000  3.44000</span></span>
<span><span class="co">#&gt; Merc 280C           17.80000   6  167.6000  123.0000  3.920000  3.44000</span></span>
<span><span class="co">#&gt; Cadillac Fleetwood  10.40000   8  472.0000  205.0000  2.930000  5.25000</span></span>
<span><span class="co">#&gt; Lincoln Continental 10.40000   8  460.0000 -232.3693  3.000000  5.42400</span></span>
<span><span class="co">#&gt; Chrysler Imperial   14.70000   8  440.0000  230.0000  3.230000  5.34500</span></span>
<span><span class="co">#&gt; Toyota Corolla      33.90000   4   71.1000   65.0000  4.220000 10.24470</span></span>
<span><span class="co">#&gt; Camaro Z28          13.30000   8  350.0000  245.0000  3.730000  3.84000</span></span>
<span><span class="co">#&gt; Fiat X1-9           27.30000   4   79.0000   66.0000  4.080000  1.93500</span></span>
<span><span class="co">#&gt; Porsche 914-2       26.00000   4  120.3000   91.0000  4.430000  2.14000</span></span>
<span><span class="co">#&gt; Ford Pantera L      15.80000   8  351.0000  264.0000  4.220000  3.17000</span></span>
<span><span class="co">#&gt; Ferrari Dino        19.70000   6  145.0000  175.0000 -5.146597  2.77000</span></span>
<span><span class="co">#&gt; Maserati Bora       15.00000   8  301.0000  335.0000  3.540000  3.57000</span></span>
<span><span class="co">#&gt; Volvo 142E          21.40000   4  121.0000  109.0000  4.110000  2.78000</span></span>
<span><span class="co">#&gt;                         qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Mazda RX4           16.46000  0  1    4    4</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag       17.02000  0  1    4    4</span></span>
<span><span class="co">#&gt; Datsun 710          18.61000  1  1    4    1</span></span>
<span><span class="co">#&gt; Hornet 4 Drive      19.44000  1  0    3    1</span></span>
<span><span class="co">#&gt; Valiant             20.22000  1  0    3    1</span></span>
<span><span class="co">#&gt; Duster 360          15.84000  0  0    3    4</span></span>
<span><span class="co">#&gt; Merc 280            18.30000  1  0    4    4</span></span>
<span><span class="co">#&gt; Merc 280C           18.90000  1  0    4    4</span></span>
<span><span class="co">#&gt; Cadillac Fleetwood  17.98000  0  0    3    4</span></span>
<span><span class="co">#&gt; Lincoln Continental 17.82000  0  0    3    4</span></span>
<span><span class="co">#&gt; Chrysler Imperial   17.42000  0  0    3    4</span></span>
<span><span class="co">#&gt; Toyota Corolla      19.90000  1  1    4    1</span></span>
<span><span class="co">#&gt; Camaro Z28          27.92358  0  0    3    4</span></span>
<span><span class="co">#&gt; Fiat X1-9           18.90000  1  1    4    1</span></span>
<span><span class="co">#&gt; Porsche 914-2       16.70000  0  1    5    2</span></span>
<span><span class="co">#&gt; Ford Pantera L      14.50000  0  1    5    4</span></span>
<span><span class="co">#&gt; Ferrari Dino        15.50000  0  1    5    6</span></span>
<span><span class="co">#&gt; Maserati Bora       14.60000  0  1    5    8</span></span>
<span><span class="co">#&gt; Volvo 142E          18.60000  1  1    4    2</span></span></code></pre></div>
<p>Looking at this dataset, we can easily see that a lot of the detected
outliers are likely true outliers. All of these values should be
positive, so any negative values are likely the result of measurement
error and can be removed (which takes out the Hornet Sportabout, the
Merc 280C, the Merc 280, the Merc 230, the Toyota Corrolla, and the
Volvo 142E). Some of the other values look much larger than they should
be, which will require a closer look at the distributions of values for
those variables. Once you have better understood the underlying data,
you can decide whether to remove these values from your data before
conducting further analysis.</p>
<p>Here is an example of how to remove the observations from your
dataset. This example also shows you how to add the score value from the
multiOutliers function as a variable in your dataset.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#adding the scores from the multiOutliers function </span></span>
<span><span class="va">mtcarsOutliers</span><span class="op">$</span><span class="va">results</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">Data</span><span class="op">$</span><span class="va">scores</span></span>
<span></span>
<span><span class="co">#identfying all rows with outliers</span></span>
<span><span class="va">index</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">Row</span></span>
<span></span>
<span><span class="co">#creating a new dataset with no outliers</span></span>
<span><span class="va">noOutliers</span> <span class="op">&lt;-</span> <span class="va">mtcarsOutliers</span><span class="op">[</span><span class="op">-</span><span class="va">index</span>,<span class="op">]</span></span>
<span><span class="va">noOutliers</span></span>
<span><span class="co">#&gt;                    mpg cyl  disp        hp drat    wt      qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Hornet Sportabout 18.7   8 360.0  175.0000 3.15 3.440 17.020000  0  0    3    2</span></span>
<span><span class="co">#&gt; Merc 240D         24.4   4 146.7   62.0000 3.69 3.190 20.000000  1  0    4    2</span></span>
<span><span class="co">#&gt; Merc 230          22.8   4 140.8   95.0000 3.92 3.150  3.655936  1  0    4    2</span></span>
<span><span class="co">#&gt; Merc 450SE        16.4   8 275.8  180.0000 3.07 4.070 17.400000  0  0    3    3</span></span>
<span><span class="co">#&gt; Merc 450SL        17.3   8 275.8  180.0000 3.07 3.730 17.600000  0  0    3    3</span></span>
<span><span class="co">#&gt; Merc 450SLC       15.2   8 275.8  180.0000 3.07 3.780 18.000000  0  0    3    3</span></span>
<span><span class="co">#&gt; Fiat 128          32.4   4  78.7   66.0000 4.08 2.200 19.470000  1  1    4    1</span></span>
<span><span class="co">#&gt; Honda Civic       30.4   4  75.7 -240.5539 4.93 1.615 18.520000  1  1    4    2</span></span>
<span><span class="co">#&gt; Toyota Corona     21.5   4 120.1   97.0000 3.70 2.465 20.010000  1  0    3    1</span></span>
<span><span class="co">#&gt; Dodge Challenger  15.5   8 318.0  150.0000 2.76 3.520 16.870000  0  0    3    2</span></span>
<span><span class="co">#&gt; AMC Javelin       15.2   8 304.0  150.0000 3.15 3.435 17.300000  0  0    3    2</span></span>
<span><span class="co">#&gt; Pontiac Firebird  19.2   8 400.0  175.0000 3.08 3.845 17.050000  0  0    3    2</span></span>
<span><span class="co">#&gt; Lotus Europa      30.4   4  95.1  113.0000 3.77 1.513 16.900000  1  1    5    2</span></span>
<span><span class="co">#&gt;                     results</span></span>
<span><span class="co">#&gt; Hornet Sportabout 0.9744176</span></span>
<span><span class="co">#&gt; Merc 240D         0.9703185</span></span>
<span><span class="co">#&gt; Merc 230          0.9503363</span></span>
<span><span class="co">#&gt; Merc 450SE        0.9800422</span></span>
<span><span class="co">#&gt; Merc 450SL        0.9766975</span></span>
<span><span class="co">#&gt; Merc 450SLC       0.9820844</span></span>
<span><span class="co">#&gt; Fiat 128          0.9976800</span></span>
<span><span class="co">#&gt; Honda Civic       0.9855085</span></span>
<span><span class="co">#&gt; Toyota Corona     0.9887988</span></span>
<span><span class="co">#&gt; Dodge Challenger  0.9778405</span></span>
<span><span class="co">#&gt; AMC Javelin       0.9744176</span></span>
<span><span class="co">#&gt; Pontiac Firebird  0.9795969</span></span>
<span><span class="co">#&gt; Lotus Europa      0.9623460</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Caleb Henning, Larissa Xu, Angelica Crown, Ernie Little, Braeden Falzarano, Ral Reyes, Tegh Singh.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
